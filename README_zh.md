# Assistant Agent

[English](README.md) | [ä¸­æ–‡](README_zh.md)

[![License](https://img.shields.io/badge/License-Apache%202.0-blue.svg)](LICENSE)
[![Java](https://img.shields.io/badge/Java-17%2B-orange.svg)](https://openjdk.org/)
[![Spring Boot](https://img.shields.io/badge/Spring%20Boot-3.4-green.svg)](https://spring.io/projects/spring-boot)
[![Spring AI](https://img.shields.io/badge/Spring%20AI-1.1.0-blueviolet.svg)](https://spring.io/projects/spring-ai)
[![GraalVM](https://img.shields.io/badge/GraalVM-Polyglot-red.svg)](https://www.graalvm.org/)

## âœ¨ æŠ€æœ¯ç‰¹æ€§

- ğŸš€ **ä»£ç å³è¡ŒåŠ¨ï¼ˆCode-as-Actionï¼‰**ï¼šAgent é€šè¿‡ç”Ÿæˆå¹¶æ‰§è¡Œä»£ç æ¥å®Œæˆä»»åŠ¡ï¼Œè€Œéä»…ä»…è°ƒç”¨é¢„å®šä¹‰å·¥å…·ï¼Œå¯ä»¥åœ¨ä»£ç ä¸­çµæ´»ç»„åˆå¤šä¸ªå·¥å…·ï¼Œå®ç°å¤æ‚æµç¨‹
- ğŸ”’ **å®‰å…¨æ²™ç®±**ï¼šAI ç”Ÿæˆçš„ä»£ç åœ¨ GraalVM å¤šè¯­è¨€æ²™ç®±ä¸­å®‰å…¨è¿è¡Œï¼Œå…·å¤‡èµ„æºéš”ç¦»èƒ½åŠ›
- ğŸ“Š **å¤šç»´è¯„ä¼°**ï¼šé€šè¿‡è¯„ä¼°å›¾ï¼ˆGraphï¼‰è¿›è¡Œå¤šå±‚æ¬¡æ„å›¾è¯†åˆ«ï¼Œç²¾å‡†æŒ‡å¯¼ Agent è¡Œä¸º
- ğŸ”„ **Prompt åŠ¨æ€ç»„è£…**ï¼šæ ¹æ®åœºæ™¯åŠå‰ç½®è¯„ä¼°ç»“æœåŠ¨æ€æ³¨å…¥ä¸Šä¸‹æ–‡ï¼ˆç»éªŒã€çŸ¥è¯†ç­‰ï¼‰åˆ° Prompt ä¸­ï¼Œçµæ´»å¤„ç†ä¸åŒä»»åŠ¡
- ğŸ§  **ç»éªŒå­¦ä¹ **ï¼šè‡ªåŠ¨ç§¯ç´¯æˆåŠŸç»éªŒï¼ŒæŒç»­æå‡åç»­ä»»åŠ¡çš„è¡¨ç°
- âš¡ **å¿«é€Ÿå“åº”**ï¼šç†Ÿæ‚‰åœºæ™¯ä¸‹ï¼Œè·³è¿‡ LLM æ¨ç†è¿‡ç¨‹ï¼ŒåŸºäºç»éªŒå¿«é€Ÿå“åº”

## ğŸ“– ç®€ä»‹

**Assistant Agent** æ˜¯ä¸€ä¸ªåŸºäº [Spring AI Alibaba](https://github.com/alibaba/spring-ai-alibaba) æ„å»ºçš„ä¼ä¸šçº§æ™ºèƒ½åŠ©æ‰‹æ¡†æ¶ï¼Œé‡‡ç”¨ä»£ç å³è¡ŒåŠ¨ï¼ˆCode-as-Actionï¼‰èŒƒå¼ï¼Œé€šè¿‡ç”Ÿæˆå’Œæ‰§è¡Œä»£ç æ¥ç¼–æ’å·¥å…·ã€å®Œæˆä»»åŠ¡ã€‚å®ƒæ˜¯ä¸€ä¸ª**èƒ½ç†è§£ã€èƒ½è¡ŒåŠ¨ã€èƒ½å­¦ä¹ **çš„æ™ºèƒ½åŠ©æ‰‹è§£å†³æ–¹æ¡ˆã€‚

### Assistant Agent èƒ½å¸®ä½ åšä»€ä¹ˆï¼Ÿ

Assistant Agent æ˜¯ä¸€ä¸ªåŠŸèƒ½å®Œæ•´çš„æ™ºèƒ½åŠ©æ‰‹ï¼Œå…·å¤‡ä»¥ä¸‹æ ¸å¿ƒèƒ½åŠ›ï¼š

- ğŸ” **æ™ºèƒ½é—®ç­”**ï¼šæ”¯æŒå¤šæ•°æ®æºç»Ÿä¸€æ£€ç´¢æ¶æ„ï¼ˆé€šè¿‡ SPI å¯æ‰©å±•çŸ¥è¯†åº“ã€Web ç­‰æ•°æ®æºï¼‰ï¼Œæä¾›å‡†ç¡®ã€å¯æº¯æºçš„ç­”æ¡ˆ
- ğŸ› ï¸ **å·¥å…·è°ƒç”¨**ï¼šæ”¯æŒ MCPã€HTTP APIï¼ˆOpenAPIï¼‰ç­‰åè®®ï¼Œçµæ´»æ¥å…¥æµ·é‡å·¥å…·ï¼Œå¯ç»„åˆè°ƒç”¨å®ç°å¤æ‚ä¸šåŠ¡æµç¨‹
- â° **ä¸»åŠ¨æœåŠ¡**ï¼šæ”¯æŒå®šæ—¶ä»»åŠ¡ã€å»¶è¿Ÿæ‰§è¡Œã€äº‹ä»¶å›è°ƒï¼Œè®©åŠ©æ‰‹ä¸»åŠ¨ä¸ºä½ æœåŠ¡
- ğŸ“¬ **å¤šæ¸ é“è§¦è¾¾**ï¼šå†…ç½® IDE å›å¤ï¼Œé€šè¿‡ SPI å¯æ‰©å±•é’‰é’‰ã€é£ä¹¦ã€ä¼å¾®ã€Webhook ç­‰æ¸ é“

### ä¸ºä»€ä¹ˆé€‰æ‹© Assistant Agentï¼Ÿ

| ä»·å€¼ | è¯´æ˜ |
|------|------|
| **é™ä½æˆæœ¬** | 7Ã—24 å°æ—¶æ™ºèƒ½å®¢æœï¼Œå¤§å¹…å‡å°‘äººå·¥å®¢æœæˆæœ¬ |
| **å¿«é€Ÿæ¥å…¥** | ä¸šåŠ¡å¹³å°é€šè¿‡ç®€å•é…ç½®å³å¯æ¥å…¥ï¼Œæ— éœ€å¤§é‡å¼€å‘æŠ•å…¥ |
| **çµæ´»å®šåˆ¶** | é…ç½®çŸ¥è¯†åº“ã€æ¥å…¥ä¼ä¸šå·¥å…·ï¼Œæ‰“é€ ä¸“å±ä¸šåŠ¡åŠ©æ‰‹ |
| **æŒç»­ä¼˜åŒ–** | è‡ªåŠ¨å­¦ä¹ ç§¯ç´¯ç»éªŒï¼ŒåŠ©æ‰‹è¶Šç”¨è¶Šèªæ˜ |

### é€‚ç”¨åœºæ™¯

- **æ™ºèƒ½å®¢æœ**ï¼šæ¥å…¥ä¼ä¸šçŸ¥è¯†åº“ï¼Œæ™ºèƒ½è§£ç­”ç”¨æˆ·å’¨è¯¢
- **è¿ç»´åŠ©æ‰‹**ï¼šå¯¹æ¥ç›‘æ§ã€å·¥å•ç³»ç»Ÿï¼Œè‡ªåŠ¨å¤„ç†å‘Šè­¦ã€æŸ¥è¯¢çŠ¶æ€ã€æ‰§è¡Œæ“ä½œ
- **ä¸šåŠ¡åŠ©ç†**ï¼šè¿æ¥ CRMã€ERP ç­‰ä¸šåŠ¡ç³»ç»Ÿï¼Œè¾…åŠ©å‘˜å·¥å®Œæˆæ—¥å¸¸å·¥ä½œ

> ğŸ’¡ ä»¥ä¸Šä»…ä¸ºå…¸å‹åœºæ™¯ç¤ºä¾‹ã€‚é€šè¿‡é…ç½®çŸ¥è¯†åº“å’Œæ¥å…¥å·¥å…·ï¼ŒAssistant Agent å¯é€‚é…æ›´å¤šä¸šåŠ¡åœºæ™¯ï¼Œæ¬¢è¿æ¢ç´¢ã€‚

![QA_comparison.png](images/QA_comparison.png)
![Tool_comparison.png](images/Tool_comparison.png)

### æ•´ä½“å·¥ä½œåŸç†

ä»¥ä¸‹æ˜¯ Assistant Agent å¤„ç†ä¸€ä¸ªå®Œæ•´è¯·æ±‚çš„ç«¯åˆ°ç«¯æµç¨‹ç¤ºä¾‹ï¼š

![workflow.png](images/workflow.png)

### é¡¹ç›®ç»“æ„

```
AssistantAgent/
â”œâ”€â”€ assistant-agent-common          # é€šç”¨å·¥å…·ã€æšä¸¾ã€å¸¸é‡
â”œâ”€â”€ assistant-agent-core            # æ ¸å¿ƒå¼•æ“ï¼šGraalVM æ‰§è¡Œå™¨ã€å·¥å…·æ³¨å†Œè¡¨
â”œâ”€â”€ assistant-agent-extensions      # æ‰©å±•æ¨¡å—ï¼š
â”‚   â”œâ”€â”€ dynamic/               #   - åŠ¨æ€å·¥å…·ï¼ˆMCPã€HTTP APIï¼‰
â”‚   â”œâ”€â”€ experience/            #   - ç»éªŒç®¡ç†ä¸å¿«é€Ÿæ„å›¾é…ç½®
â”‚   â”œâ”€â”€ learning/              #   - å­¦ä¹ æå–ä¸å­˜å‚¨
â”‚   â”œâ”€â”€ search/                #   - ç»Ÿä¸€æœç´¢èƒ½åŠ›
â”‚   â”œâ”€â”€ reply/                 #   - å¤šæ¸ é“å›å¤
â”‚   â”œâ”€â”€ trigger/               #   - è§¦å‘å™¨æœºåˆ¶
â”‚   â””â”€â”€ evaluation/            #   - è¯„ä¼°é›†æˆ
â”œâ”€â”€ assistant-agent-prompt-builder  # Prompt åŠ¨æ€ç»„è£…
â”œâ”€â”€ assistant-agent-evaluation      # è¯„ä¼°å¼•æ“
â”œâ”€â”€ assistant-agent-autoconfigure   # Spring Boot è‡ªåŠ¨é…ç½®
â””â”€â”€ assistant-agent-start           # å¯åŠ¨æ¨¡å—
```

## ğŸš€ å¿«é€Ÿå¯åŠ¨

### å‰ç½®è¦æ±‚

- Java 17+
- Maven 3.8+
- DashScope API Key

### 1. å…‹éš†å¹¶æ„å»º

```bash
git clone https://github.com/spring-ai-alibaba/AssistantAgent.git
cd AssistantAgent
mvn clean install -DskipTests
```

### 2. é…ç½® API Key

```bash
export DASHSCOPE_API_KEY=your-api-key-here
```

### 3. æœ€å°é…ç½®

é¡¹ç›®å·²å†…ç½®é»˜è®¤é…ç½®ï¼Œåªéœ€ç¡®ä¿ API Key æ­£ç¡®å³å¯ã€‚å¦‚éœ€è‡ªå®šä¹‰ï¼Œå¯ç¼–è¾‘ `assistant-agent-start/src/main/resources/application.yml`ï¼š

```yaml
spring:
  ai:
    dashscope:
      api-key: ${DASHSCOPE_API_KEY}
      chat:
        options:
          model: qwen-max
```

### 4. å¯åŠ¨åº”ç”¨

```bash
cd assistant-agent-start
mvn spring-boot:run
```

æ‰€æœ‰æ‰©å±•æ¨¡å—é»˜è®¤å¼€å¯å¹¶é‡‡ç”¨åˆç†çš„é…ç½®ï¼Œæ— éœ€é¢å¤–é…ç½®å³å¯å¿«é€Ÿå¯åŠ¨ã€‚

### 5. é…ç½®çŸ¥è¯†åº“ï¼ˆæ¥å…¥ä¸šåŠ¡çŸ¥è¯†ï¼‰

> ğŸ’¡ æ¡†æ¶é»˜è®¤æä¾› Mock çŸ¥è¯†åº“å®ç°ç”¨äºæ¼”ç¤ºæµ‹è¯•ã€‚**ç”Ÿäº§ç¯å¢ƒéœ€è¦æ¥å…¥çœŸå®çŸ¥è¯†æº**ï¼ˆå¦‚å‘é‡æ•°æ®åº“ã€Elasticsearchã€ä¼ä¸šçŸ¥è¯†åº“ API ç­‰ï¼‰ï¼Œä»¥ä¾¿ Agent èƒ½å¤Ÿæ£€ç´¢å¹¶å›ç­”ä¸šåŠ¡ç›¸å…³é—®é¢˜ã€‚

#### æ–¹å¼ä¸€ï¼šå¿«é€Ÿä½“éªŒï¼ˆä½¿ç”¨å†…ç½® Mock å®ç°ï¼‰

é»˜è®¤é…ç½®å·²å¯ç”¨çŸ¥è¯†åº“æœç´¢ï¼Œå¯ç›´æ¥ä½“éªŒï¼š

```yaml
spring:
  ai:
    alibaba:
      codeact:
        extension:
          search:
            enabled: true
            knowledge-search-enabled: true  # é»˜è®¤å¼€å¯
```

#### æ–¹å¼äºŒï¼šæ¥å…¥çœŸå®çŸ¥è¯†åº“ï¼ˆæ¨èï¼‰

å®ç° `SearchProvider` SPI æ¥å£ï¼Œæ¥å…¥ä½ çš„ä¸šåŠ¡çŸ¥è¯†æºï¼š

```java
package com.example.knowledge;

import com.alibaba.assistant.agent.extension.search.spi.SearchProvider;
import com.alibaba.assistant.agent.extension.search.model.*;
import org.springframework.stereotype.Component;
import java.util.*;

@Component  // æ·»åŠ æ­¤æ³¨è§£ï¼ŒProvider ä¼šè‡ªåŠ¨æ³¨å†Œ
public class MyKnowledgeSearchProvider implements SearchProvider {

    @Override
    public boolean supports(SearchSourceType type) {
        return SearchSourceType.KNOWLEDGE == type;
    }

    @Override
    public List<SearchResultItem> search(SearchRequest request) {
        List<SearchResultItem> results = new ArrayList<>();
        
        // 1. ä»ä½ çš„çŸ¥è¯†æºæŸ¥è¯¢ï¼ˆå‘é‡æ•°æ®åº“ã€ESã€API ç­‰ï¼‰
        // ç¤ºä¾‹ï¼šList<Doc> docs = vectorStore.similaritySearch(request.getQuery());
        
        // 2. è½¬æ¢ä¸º SearchResultItem
        // for (Doc doc : docs) {
        //     SearchResultItem item = new SearchResultItem();
        //     item.setId(doc.getId());
        //     item.setSourceType(SearchSourceType.KNOWLEDGE);
        //     item.setTitle(doc.getTitle());
        //     item.setSnippet(doc.getSummary());
        //     item.setContent(doc.getContent());
        //     item.setScore(doc.getScore());
        //     results.add(item);
        // }
        
        return results;
    }

    @Override
    public String getName() {
        return "MyKnowledgeSearchProvider";
    }
}
```

#### å¸¸è§çŸ¥è¯†æºæ¥å…¥ç¤ºä¾‹

| çŸ¥è¯†æºç±»å‹ | æ¥å…¥æ–¹å¼ |
|-----------|---------|
| **å‘é‡æ•°æ®åº“**ï¼ˆé˜¿é‡Œäº‘ AnalyticDBã€Milvusã€Pineconeï¼‰ | åœ¨ `search()` æ–¹æ³•ä¸­è°ƒç”¨å‘é‡ç›¸ä¼¼åº¦æ£€ç´¢ API |
| **Elasticsearch** | ä½¿ç”¨ ES å®¢æˆ·ç«¯æ‰§è¡Œå…¨æ–‡æ£€ç´¢æˆ–å‘é‡æ£€ç´¢ |
| **ä¼ä¸šçŸ¥è¯†åº“ API** | è°ƒç”¨å†…éƒ¨çŸ¥è¯†åº“ REST API |
| **æœ¬åœ°æ–‡æ¡£** | è¯»å–å¹¶ç´¢å¼•æœ¬åœ° Markdown/PDF æ–‡ä»¶ |

> ğŸ“– æ›´å¤šç»†èŠ‚è¯·å‚è€ƒï¼š[çŸ¥è¯†æ£€ç´¢æ¨¡å—æ–‡æ¡£](assistant-agent-extensions/src/main/java/com/alibaba/assistant/agent/extension/search/README.md)

## ğŸ§© æ ¸å¿ƒæ¨¡å—ä»‹ç»

### è¯„ä¼°æ¨¡å—ï¼ˆEvaluationï¼‰

**ä½œç”¨**ï¼šå¤šç»´åº¦æ„å›¾è¯†åˆ«æ¡†æ¶ï¼Œé€šè¿‡è¯„ä¼°å›¾ï¼ˆGraphï¼‰å¯¹ä¿¡æ¯è¿›è¡Œå¤šå±‚æ¬¡ç‰¹è´¨è¯†åˆ«ã€‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    è¯„ä¼°å›¾ (Evaluation Graph) ç¤ºä¾‹                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  ç”¨æˆ·è¾“å…¥: "æŸ¥è¯¢ä»Šæ—¥è®¢å•"                                           â”‚
â”‚          â”‚                                                       â”‚
â”‚          â–¼                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ Layer 1 ï¼ˆå¹¶è¡Œæ‰§è¡Œï¼‰                                      â”‚     â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚     â”‚
â”‚  â”‚   â”‚ æ˜¯å¦æ¨¡ç³Š?   â”‚         â”‚ è¾“å…¥æ”¹å†™     â”‚                 â”‚     â”‚
â”‚  â”‚   â”‚ æ¸…æ™°/æ¨¡ç³Š   â”‚         â”‚ï¼ˆå¢å¼ºï¼‰      â”‚                 â”‚     â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                 â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚            â”‚                      â”‚                              â”‚
â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                              â”‚
â”‚                       â–¼                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ Layer 2 (åŸºäºæ”¹å†™å†…å®¹ï¼Œå¹¶è¡Œæ‰§è¡Œ)                            â”‚     â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚     â”‚
â”‚  â”‚   â”‚ æ£€ç´¢ç»éªŒ  â”‚   â”‚ åŒ¹é…å·¥å…·  â”‚   â”‚ æœç´¢çŸ¥è¯†  â”‚             â”‚     â”‚
â”‚  â”‚   â”‚ æœ‰/æ—     â”‚   â”‚ æœ‰/æ—      â”‚   â”‚ æœ‰/æ—     â”‚             â”‚     â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                       â”‚                                          â”‚
â”‚                       â–¼                                          â”‚
â”‚            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                â”‚
â”‚            â”‚ æ•´åˆä¸åŒç»´åº¦è¯„ä¼°ç»“æœ  â”‚                                â”‚
â”‚            â”‚ â†’ ä¼ é€’ç»™åç»­æ¨¡å—     â”‚                                â”‚
â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æ ¸å¿ƒèƒ½åŠ›**ï¼š
- **åŒè¯„ä¼°å¼•æ“**ï¼š
  - **LLM è¯„ä¼°**ï¼šé€šè¿‡å¤§æ¨¡å‹è¿›è¡Œå¤æ‚è¯­ä¹‰åˆ¤æ–­ï¼Œç”¨æˆ·å¯å®Œå…¨è‡ªå®šä¹‰è¯„ä¼° Promptï¼ˆ`customPrompt`ï¼‰ï¼Œä¹Ÿå¯ä½¿ç”¨é»˜è®¤ Prompt ç»„è£…ï¼ˆæ”¯æŒ `description`ã€`workingMechanism`ã€`fewShots` ç­‰é…ç½®ï¼‰
  - **Rule-based è¯„ä¼°**ï¼šé€šè¿‡ Java å‡½æ•°å®ç°è§„åˆ™é€»è¾‘ï¼Œç”¨æˆ·è‡ªå®šä¹‰ `Function<CriterionExecutionContext, CriterionResult>` æ‰§è¡Œä»»æ„è§„åˆ™åˆ¤æ–­ï¼Œé€‚åˆé˜ˆå€¼æ£€æµ‹ã€æ ¼å¼æ ¡éªŒã€ç²¾ç¡®åŒ¹é…ç­‰åœºæ™¯
- **ä¾èµ–å…³ç³»è‡ªå®šä¹‰**ï¼šè¯„ä¼°é¡¹å¯é€šè¿‡ `dependsOn` å£°æ˜å‰ç½®ä¾èµ–ï¼Œç³»ç»Ÿè‡ªåŠ¨æ„å»ºè¯„ä¼°å›¾æŒ‰æ‹“æ‰‘æ‰§è¡Œï¼Œæ— ä¾èµ–é¡¹å¹¶è¡Œã€æœ‰ä¾èµ–é¡¹é¡ºåºæ‰§è¡Œï¼Œåç»­è¯„ä¼°é¡¹å¯è®¿é—®å‰ç½®è¯„ä¼°é¡¹çš„ç»“æœ
- **è¯„ä¼°ç»“æœ**ï¼šæ”¯æŒ `BOOLEAN`ã€`ENUM`ã€`SCORE`ã€`JSON`ã€`TEXT` ç­‰ç±»å‹ï¼Œä¼ é€’ç»™ Prompt Builder é©±åŠ¨åŠ¨æ€ç»„è£…

---

### Prompt Builder æ¨¡å—

**ä½œç”¨**ï¼šæ ¹æ®è¯„ä¼°ç»“æœå’Œè¿è¡Œæ—¶ä¸Šä¸‹æ–‡ï¼ŒåŠ¨æ€ç»„è£…å‘é€ç»™æ¨¡å‹çš„ Promptã€‚ç¤ºä¾‹ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Prompt Builder - æ¡ä»¶åŒ–åŠ¨æ€ç”Ÿæˆ                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  è¯„ä¼°ç»“æœè¾“å…¥:                                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚  â”‚ æ¨¡ç³Š: æ˜¯  â”‚ ç»éªŒ: æœ‰  â”‚ å·¥å…·: æœ‰  â”‚ çŸ¥è¯†: æ—                â”‚             â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚                    â”‚                                                    â”‚
â”‚                    â–¼                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚              è‡ªå®šä¹‰ PromptBuilder æ¡ä»¶åŒ¹é…                       â”‚     â”‚
â”‚  â”‚                                                                â”‚     â”‚
â”‚  â”‚   æ¨¡ç³Š=æ˜¯ â”€â”€â”€â”€â”€â”€â–¶ æ³¨å…¥ [æ¾„æ¸…å¼•å¯¼ Prompt]                          â”‚     â”‚
â”‚  â”‚   æ¨¡ç³Š=å¦ â”€â”€â”€â”€â”€â”€â–¶ æ³¨å…¥ [ç›´æ¥æ‰§è¡Œ Prompt]                          â”‚     â”‚
â”‚  â”‚                                                                â”‚     â”‚
â”‚  â”‚   ç»éªŒ=æœ‰ â”€â”€â”€â”€â”€â”€â–¶ æ³¨å…¥ [å†å²ç»éªŒå‚è€ƒ]                              â”‚     â”‚
â”‚  â”‚   å·¥å…·=æœ‰ â”€â”€â”€â”€â”€â”€â–¶ æ³¨å…¥ [å·¥å…·ä½¿ç”¨è¯´æ˜]                              â”‚     â”‚
â”‚  â”‚   çŸ¥è¯†=æœ‰ â”€â”€â”€â”€â”€â”€â–¶ æ³¨å…¥ [ç›¸å…³çŸ¥è¯†ç‰‡æ®µ]                              â”‚     â”‚
â”‚  â”‚                                                                â”‚     â”‚
â”‚  â”‚   ç»„åˆç¤ºä¾‹1: æ¨¡ç³Š+æ— å·¥å…·+æ— çŸ¥è¯† â”€â”€â–¶ [è¿½é—®ç”¨æˆ· Prompt]               â”‚     â”‚
â”‚  â”‚   ç»„åˆç¤ºä¾‹2: æ¸…æ™°+æœ‰å·¥å…·+æœ‰ç»éªŒ â”€â”€â–¶ [å¿«é€Ÿæ‰§è¡Œ Prompt]               â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                    â”‚                                                    â”‚
â”‚                    â–¼                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ æœ€ç»ˆåŠ¨æ€ Prompt:                                                â”‚     â”‚
â”‚  â”‚ [ç³»ç»Ÿæç¤º] + [æ¾„æ¸…å¼•å¯¼] + [å†å²ç»éªŒ] + [å·¥å…·è¯´æ˜] + [ç”¨æˆ·é—®é¢˜]        â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                    â”‚                                                    â”‚
â”‚                    â–¼                                                    â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                               â”‚
â”‚              â”‚   æ¨¡å‹    â”‚                                               â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                               â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æ ¸å¿ƒèƒ½åŠ›**ï¼š
- å¤šä¸ª PromptBuilder æŒ‰ä¼˜å…ˆçº§é¡ºåºæ‰§è¡Œ
- æ¯ä¸ª Builder æ ¹æ®è¯„ä¼°ç»“æœå†³å®šæ˜¯å¦è´¡çŒ®ã€è´¡çŒ®ä»€ä¹ˆå†…å®¹
- æ”¯æŒè‡ªå®šä¹‰ Builderï¼Œæ ¹æ®ä¸šåŠ¡éœ€æ±‚å®šåˆ¶ Prompt é€»è¾‘
- éä¾µå…¥å¼ï¼Œåœ¨æ¨¡å‹è°ƒç”¨å±‚æ‹¦æˆª

**å¯¹æ¯”ä¼ ç»Ÿæ–¹æ¡ˆ**ï¼š

| å¯¹æ¯”ç»´åº¦ | ä¼ ç»Ÿæ–¹æ¡ˆ | è¯„ä¼° + PromptBuilder                 |
|---------|---------|------------------------------------|
| **Prompt é•¿åº¦** | éœ€è¦ç©·ä¸¾å„ç§æƒ…å†µçš„å¤„ç†æŒ‡ä»¤ï¼ˆ"é‡åˆ° A æƒ…å†µåº”è¯¥...ï¼Œé‡åˆ° B æƒ…å†µåº”è¯¥..."ï¼‰ï¼ŒPrompt è‡ƒè‚¿ | é€šè¿‡å‰ç½®è¯„ä¼°è¯†åˆ«åœºæ™¯ï¼Œä»…æ³¨å…¥å½“å‰åœºæ™¯æ‰€éœ€çš„ä¸Šä¸‹æ–‡ï¼ŒPrompt æ›´çŸ­æ›´ç²¾ç¡® |
| **Agent è¡Œä¸ºå¯æ§æ€§** | ä¾èµ–æ¨¡å‹å¯¹å†—é•¿æŒ‡ä»¤çš„"ç†è§£"ï¼Œå®¹æ˜“è¯¯åˆ¤ | è¡Œä¸ºç”±è¯„ä¼°ç»“æœé©±åŠ¨ï¼Œå‡å°‘æ¨¡å‹è¯¯åˆ¤ï¼Œæ›´å¯æ§               |
| **æ‰©å±•çµæ´»æ€§** | æ–°å¢åœºæ™¯éœ€ä¿®æ”¹ Promptï¼Œç»´æŠ¤å›°éš¾ | æ ¹æ®ä¸šåŠ¡éœ€æ±‚ä¿®æ”¹ç›¸å…³è¯„ä¼°é¡¹ä¸PromptBuilder        |
| **ä»£ç æ¶æ„** | è¯„ä¼°é€»è¾‘ä¸ Prompt è€¦åˆåœ¨ä¸€èµ· | è¯„ä¼°é€»è¾‘ä¸ Prompt æ¨¡æ¿è§£è€¦ï¼Œå…³æ³¨ç‚¹åˆ†ç¦»ï¼Œç‹¬ç«‹ç»´æŠ¤å’Œè¿­ä»£    |

---

### å­¦ä¹ æ¨¡å—ï¼ˆLearningï¼‰

**ä½œç”¨**ï¼šä» Agent æ‰§è¡Œå†å²ä¸­è‡ªåŠ¨æå–å¹¶ä¿å­˜æœ‰ä»·å€¼çš„ç»éªŒã€‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         å­¦ä¹ æ¨¡å—å·¥ä½œæµç¨‹                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                        Agent æ‰§è¡Œè¿‡ç¨‹                               â”‚ â”‚
â”‚  â”‚                                                                    â”‚ â”‚
â”‚  â”‚  è¾“å…¥ â”€â”€â–¶ æ¨ç† â”€â”€â–¶ ä»£ç ç”Ÿæˆ â”€â”€â–¶ æ‰§è¡Œ â”€â”€â–¶ è¾“å‡º                          â”‚ â”‚
â”‚  â”‚   â”‚        â”‚          â”‚         â”‚        â”‚                         â”‚ â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜                         â”‚ â”‚
â”‚  â”‚                        â”‚                                           â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                           â–¼                                             â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                 â”‚
â”‚              â”‚      å­¦ä¹ ä¸Šä¸‹æ–‡æ•è·      â”‚                                 â”‚
â”‚              â”‚  - ç”¨æˆ·è¾“å…¥             â”‚                                 â”‚
â”‚              â”‚  - ä¸­é—´æ¨ç†æ­¥éª¤          â”‚                                â”‚
â”‚              â”‚  - ç”Ÿæˆçš„ä»£ç            â”‚                                 â”‚
â”‚              â”‚  - æ‰§è¡Œç»“æœ             â”‚                                â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                â”‚
â”‚                          â”‚                                             â”‚
â”‚                          â–¼                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚   â”‚                    å­¦ä¹ æå–å™¨åˆ†æ                              â”‚     â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚     â”‚
â”‚   â”‚  â”‚ ç»éªŒæå–å™¨  â”‚  â”‚ æ¨¡å¼æå–å™¨   â”‚  â”‚ é”™è¯¯æå–å™¨   â”‚              â”‚     â”‚
â”‚   â”‚  â”‚ æˆåŠŸæ¨¡å¼    â”‚  â”‚ é€šç”¨æ¨¡å¼    â”‚  â”‚ å¤±è´¥æ•™è®­     â”‚              â”‚     â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜              â”‚     â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚            â”‚               â”‚               â”‚                           â”‚
â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â”‚
â”‚                            â–¼                                           â”‚
â”‚                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                   â”‚
â”‚                   â”‚   æŒä¹…åŒ–å­˜å‚¨    â”‚ â”€â”€â–¶ ä¾›åç»­ä»»åŠ¡å‚è€ƒä½¿ç”¨                â”‚
â”‚                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                   â”‚
â”‚                                                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æ ¸å¿ƒèƒ½åŠ›**ï¼š
- **After-Agent å­¦ä¹ **ï¼šæ¯æ¬¡ Agent è¿è¡Œå®Œæˆåæå–ç»éªŒ
- **After-Model å­¦ä¹ **ï¼šæ¯æ¬¡æ¨¡å‹è°ƒç”¨åæå–ç»éªŒ
- **Tool Interceptor**ï¼šä»å·¥å…·è°ƒç”¨ä¸­æå–ç»éªŒ
- **ç¦»çº¿å­¦ä¹ **ï¼šæ‰¹é‡åˆ†æå†å²æ•°æ®æå–æ¨¡å¼
- **å­¦ä¹ è¿‡ç¨‹**ï¼šæ•è·æ‰§è¡Œä¸Šä¸‹æ–‡ â†’ æå–å™¨åˆ†æè¯†åˆ« â†’ ç”Ÿæˆç»éªŒè®°å½• â†’ æŒä¹…åŒ–å­˜å‚¨ä¾›åç»­å¤ç”¨

---

### ç»éªŒæ¨¡å—ï¼ˆExperienceï¼‰

**ä½œç”¨**ï¼šç§¯ç´¯å’Œå¤ç”¨å†å²æˆåŠŸæ‰§è¡Œç»éªŒã€‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         ç»éªŒæ¨¡å—å·¥ä½œç¤ºæ„                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  ã€åœºæ™¯1: ç»éªŒç§¯ç´¯ã€‘                                                       â”‚
â”‚                                                                         â”‚
â”‚   ç”¨æˆ·: "æŸ¥è¯¢è®¢å•çŠ¶æ€"  â”€â”€â–¶  Agent æˆåŠŸæ‰§è¡Œ  â”€â”€â–¶     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚                                                  â”‚ ä¿å­˜ç»éªŒ:       â”‚     â”‚
â”‚                                                  â”‚ - Reactå†³ç­–ç»éªŒ â”‚     â”‚
â”‚                                                  â”‚ - Codeç»éªŒ     â”‚     â”‚
â”‚                                                  â”‚ - å¸¸è¯†ç»éªŒ      â”‚     â”‚
â”‚                                                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                           â”‚             â”‚
â”‚                                                           â–¼             â”‚
â”‚                                                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚                                                  â”‚   ç»éªŒåº“        â”‚     â”‚
â”‚                                                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                                         â”‚
â”‚  ã€åœºæ™¯2: ç»éªŒå¤ç”¨ã€‘                                       ï½œ              â”‚
â”‚                                                          â”‚              â”‚
â”‚   ç”¨æˆ·: "æŸ¥è¯¢æˆ‘çš„è®¢å•çŠ¶æ€"  â—€â”€â”€â”€â”€  åŒ¹é…ç›¸ä¼¼ç»éªŒ  â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚            â”‚                                                            â”‚
â”‚            â–¼                                                            â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚   â”‚ Agent å‚è€ƒå†å²ç»éªŒï¼Œæ›´å¿«å†³ç­–+ç”Ÿæˆæ­£ç¡®ä»£ç              â”‚                   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
â”‚                                                                         â”‚
â”‚  ã€åœºæ™¯3: å¿«é€Ÿæ„å›¾å“åº”ã€‘                                                   â”‚
â”‚                                                                         â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚ ç»éªŒåº“                                                           â”‚   â”‚
â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚   â”‚   â”‚ ç»éªŒA (æ™®é€š)         â”‚       â”‚ ç»éªŒB (âœ“ å·²é…ç½®å¿«é€Ÿæ„å›¾)      â”‚  â”‚   â”‚
â”‚   â”‚   â”‚ æ— å¿«é€Ÿæ„å›¾é…ç½®        â”‚       â”‚   æ¡ä»¶: å‰ç¼€åŒ¹é…"æŸ¥çœ‹*é”€é‡"   â”‚  â”‚   â”‚
â”‚   â”‚   â”‚ â†’ æ³¨å…¥promptä¾›llmå‚è€ƒâ”‚       â”‚   åŠ¨ä½œ: è°ƒç”¨é”€é‡æŸ¥è¯¢API       â”‚  â”‚   â”‚
â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                 â”‚ æ¡ä»¶å‘½ä¸­               â”‚
â”‚                                                 â–¼                       â”‚
â”‚   ç”¨æˆ·: "æŸ¥çœ‹ä»Šæ—¥é”€é‡"  â”€â”€â–¶  åŒ¹é…ç»éªŒBå¿«é€Ÿæ„å›¾  â”€â”€â–¶  è·³è¿‡LLMï¼Œç›´æ¥æ‰§è¡Œ          â”‚
â”‚                                                                         â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æ ¸å¿ƒèƒ½åŠ›**ï¼š
- **å¤šç±»å‹ç»éªŒ**ï¼šä»£ç ç”Ÿæˆç»éªŒã€ReAct å†³ç­–ç»éªŒã€å¸¸è¯†ç»éªŒï¼Œä¸ºç±»ä¼¼ä»»åŠ¡æä¾›å†å²å‚è€ƒ
- **çµæ´»å¤ç”¨**ï¼šç»éªŒå¯æ³¨å…¥ Prompt æˆ–ç”¨äºå¿«é€Ÿæ„å›¾åŒ¹é…
- **ç”Ÿå‘½å‘¨æœŸç®¡ç†**ï¼šæ”¯æŒç»éªŒçš„åˆ›å»ºã€æ›´æ–°ã€åˆ é™¤
- **å¿«é€Ÿæ„å›¾å“åº”**ï¼š
  - ç»éªŒéœ€æ˜¾å¼é…ç½® `fastIntentConfig` æ‰èƒ½å¯ç”¨
  - åŒ¹é…å·²é…ç½®æ¡ä»¶æ—¶ï¼Œè·³è¿‡ LLM å®Œæ•´æ¨ç†ï¼Œç›´æ¥æ‰§è¡Œé¢„è®°å½•çš„å·¥å…·è°ƒç”¨æˆ–ä»£ç 
  - æ”¯æŒå¤šæ¡ä»¶åŒ¹é…ï¼šæ¶ˆæ¯å‰ç¼€ã€æ­£åˆ™ã€å…ƒæ•°æ®ã€çŠ¶æ€ç­‰

---

### è§¦å‘å™¨æ¨¡å—ï¼ˆTriggerï¼‰

**ä½œç”¨**ï¼šåˆ›å»ºå’Œç®¡ç†å®šæ—¶ä»»åŠ¡æˆ–äº‹ä»¶è§¦å‘çš„ Agent æ‰§è¡Œã€‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         è§¦å‘å™¨æ¨¡å—èƒ½åŠ›ç¤ºæ„                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  ã€å®šæ—¶è§¦å‘ã€‘                                                             â”‚
â”‚                                                                         â”‚
â”‚   ç”¨æˆ·: "æ¯å¤©æ—©ä¸Š9ç‚¹ç»™æˆ‘å‘é€é”€å”®æ—¥æŠ¥"                                        â”‚
â”‚            â”‚                                                            â”‚
â”‚            â–¼                                                            â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚  Agent åˆ›å»º      â”‚     â”‚   è°ƒåº¦å™¨         â”‚     â”‚  è‡ªåŠ¨æ‰§è¡Œ        â”‚   â”‚
â”‚   â”‚  Cron è§¦å‘å™¨     â”‚â”€â”€â”€â”€â–¶â”‚  0 9 * * *      â”‚â”€â”€â”€â”€â–¶â”‚  ç”Ÿæˆæ—¥æŠ¥        â”‚   â”‚
â”‚   â”‚  (è‡ªæˆ‘è°ƒåº¦)      â”‚     â”‚                 â”‚     â”‚  å‘é€é€šçŸ¥        â”‚    â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                         â”‚
â”‚  ã€å»¶è¿Ÿè§¦å‘ã€‘                                                             â”‚
â”‚                                                                         â”‚
â”‚   ç”¨æˆ·: "30åˆ†é’Ÿåæé†’æˆ‘å¼€ä¼š"                                               â”‚
â”‚            â”‚                                                            â”‚
â”‚            â–¼                                                            â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚  Agent åˆ›å»º      â”‚     â”‚   30åˆ†é’Ÿå      â”‚     â”‚  å‘é€æé†’         â”‚   â”‚
â”‚   â”‚  ä¸€æ¬¡æ€§è§¦å‘å™¨     â”‚â”€â”€â”€â”€â–¶â”‚   è§¦å‘          â”‚â”€â”€â”€â”€â–¶â”‚  "è¯¥å¼€ä¼šäº†"       â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                         â”‚
â”‚  ã€å›è°ƒè§¦å‘ã€‘                                                             â”‚
â”‚                                                                         â”‚
â”‚   ç”¨æˆ·: "æ»¡è¶³xxæ¡ä»¶æ—¶å¸®æˆ‘xx"                                               â”‚
â”‚                                                                         â”‚
â”‚   å¤–éƒ¨ç³»ç»Ÿ: å‘é€äº‹ä»¶åˆ° Webhook                                             â”‚
â”‚            â”‚                                                            â”‚
â”‚            â–¼                                                            â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚  æ¥æ”¶å›è°ƒ        â”‚     â”‚   è§¦å‘ Agent     â”‚     â”‚  å¤„ç†äº‹ä»¶        â”‚   â”‚
â”‚   â”‚  Webhook äº‹ä»¶   â”‚â”€â”€â”€â”€â–¶â”‚   æ‰§è¡Œä»»åŠ¡        â”‚â”€â”€â”€â”€â–¶â”‚  è¿”å›å“åº”        â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æ ¸å¿ƒèƒ½åŠ›**ï¼š
- `TIME_CRON`è§¦å‘å™¨ï¼šæ”¯æŒ Cron è¡¨è¾¾å¼å®šæ—¶è§¦å‘ä»»åŠ¡
- `TIME_ONCE`è§¦å‘å™¨ï¼šæ”¯æŒä¸€æ¬¡æ€§å»¶è¿Ÿè§¦å‘
- `CALLBACK`è§¦å‘å™¨ï¼šæ”¯æŒå›è°ƒäº‹ä»¶è§¦å‘
- Agent å¯é€šè¿‡å·¥å…·è‡ªä¸»åˆ›å»ºè§¦å‘å™¨ï¼Œå®ç°"è‡ªæˆ‘è°ƒåº¦"

---

### å›å¤æ¸ é“æ¨¡å—ï¼ˆReply Channelï¼‰

**ä½œç”¨**ï¼šæä¾›çµæ´»çš„æ¶ˆæ¯å›å¤èƒ½åŠ›ï¼Œæ”¯æŒå¤šç§è¾“å‡ºæ¸ é“ã€‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       å›å¤æ¸ é“æ¨¡å—èƒ½åŠ›ç¤ºæ„                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚   Agent éœ€è¦å‘ç”¨æˆ·å›å¤æ¶ˆæ¯                                                 â”‚
â”‚            â”‚                                                            â”‚
â”‚            â–¼                                                            â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚                    å›å¤æ¸ é“è·¯ç”±                                   â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚            â”‚                                                            â”‚
â”‚            â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚            â–¼              â–¼              â–¼              â–¼               â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚   â”‚  DEFAULT   â”‚  â”‚  IDE_CARD  â”‚  â”‚ IM_NOTIFY  â”‚  â”‚  WEBHOOK   â”‚        â”‚
â”‚   â”‚  æ–‡æœ¬å›å¤   â”‚  â”‚  å¡ç‰‡å±•ç¤º   â”‚   â”‚  æ¶ˆæ¯æ¨é€   â”‚  â”‚  JSONæ¨é€   â”‚        â”‚
â”‚   â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚         â”‚               â”‚               â”‚               â”‚               â”‚
â”‚         â–¼               â–¼               â–¼               â–¼               â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚   â”‚ æ§åˆ¶å°    â”‚    â”‚   IDE    â”‚    â”‚   IM     â”‚    â”‚ ç¬¬ä¸‰æ–¹    â”‚          â”‚
â”‚   â”‚ ç»ˆç«¯å›å¤  â”‚    â”‚ å¯Œæ–‡æœ¬å¡ç‰‡ â”‚     â”‚ (å¯æ‰©å±•) â”‚    â”‚  ç³»ç»Ÿ     â”‚          â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                                         â”‚
â”‚  ã€ä½¿ç”¨ç¤ºä¾‹ã€‘                                                             â”‚
â”‚                                                                         â”‚
â”‚   ç”¨æˆ·: "åˆ†æå®Œæˆåå‘é€ç»“æœ"                                                â”‚
â”‚            â”‚                                                            â”‚
â”‚            â–¼                                                            â”‚
â”‚   Agent: send_message(text="åˆ†æç»“æœ...")                                â”‚
â”‚            â”‚                                                            â”‚
â”‚            â–¼                                                            â”‚
â”‚   ç”¨æˆ·æ”¶åˆ°æ¶ˆæ¯: "ğŸ“Š åˆ†æç»“æœ: ..."                                         â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æ ¸å¿ƒèƒ½åŠ›**ï¼š
- **å¤šæ¸ é“è·¯ç”±**ï¼šAgent å¯æ ¹æ®åœºæ™¯é€‰æ‹©ä¸åŒæ¸ é“å›å¤
- **é…ç½®é©±åŠ¨**ï¼šåŠ¨æ€ç”Ÿæˆå›å¤å·¥å…·ï¼Œæ— éœ€ç¼–ç 
- **åŒæ­¥å¼‚æ­¥æ”¯æŒ**ï¼šæ”¯æŒåŒæ­¥å’Œå¼‚æ­¥å›å¤æ¨¡å¼
- **ç»Ÿä¸€æ¥å£**ï¼šå±è”½åº•å±‚å®ç°å·®å¼‚
- **å†…ç½®ç¤ºä¾‹æ¸ é“**ï¼š`IDE_TEXT`ï¼ˆæ¼”ç¤ºç”¨ï¼‰
- **å¯æ‰©å±•æ¸ é“**ï¼ˆé€šè¿‡å®ç° `ReplyChannelDefinition` SPIï¼‰ï¼šå¦‚ `IDE_CARD`ã€`IM_NOTIFICATION`ï¼ˆé’‰é’‰/é£ä¹¦/ä¼å¾®ï¼‰ã€`WEBHOOK_JSON` ç­‰ï¼Œéœ€ç”¨æˆ·è‡ªè¡Œå®ç°

---

### å·¥å…·æ‰©å±•æ¨¡å—ï¼ˆDynamic Toolsï¼‰

**ä½œç”¨**ï¼šæä¾›é«˜åº¦å¯æ‰©å±•çš„å·¥å…·ä½“ç³»ï¼Œè®© Agent èƒ½å¤Ÿè°ƒç”¨å„ç±»å¤–éƒ¨å·¥å…·å®Œæˆä»»åŠ¡ã€‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        å·¥å…·æ‰©å±•æ¶æ„                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚   Agent éœ€è¦æ‰§è¡Œæ“ä½œ                                                      â”‚
â”‚            â”‚                                                            â”‚
â”‚            â–¼                                                            â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚                   CodeactTool å·¥å…·ä½“ç³»                            â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚            â”‚                                                            â”‚
â”‚            â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚            â–¼             â–¼             â–¼             â–¼              â–¼   â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚   â”‚   MCP      â”‚ â”‚   HTTP     â”‚ â”‚  Search    â”‚ â”‚  Trigger   â”‚ â”‚ è‡ªå®šä¹‰ â”‚ â”‚
â”‚   â”‚   Tools    â”‚ â”‚   API      â”‚ â”‚  Tools     â”‚ â”‚  Tools     â”‚ â”‚ Tools â”‚ â”‚
â”‚   â”‚            â”‚ â”‚   Tools    â”‚ â”‚            â”‚ â”‚            â”‚ â”‚       â”‚ â”‚
â”‚   â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”¬â”€â”€â”€â”˜ â”‚
â”‚         â”‚              â”‚              â”‚              â”‚            â”‚     â”‚
â”‚         â–¼              â–¼              â–¼              â–¼            â–¼     â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚ ä»»æ„ MCP â”‚   â”‚ REST API â”‚   â”‚ çŸ¥è¯†æ£€ç´¢   â”‚   â”‚ å®šæ—¶ä»»åŠ¡  â”‚  â”‚ ...  â”‚   â”‚
â”‚   â”‚ Server   â”‚   â”‚ OpenAPI  â”‚   â”‚ é¡¹ç›®æœç´¢  â”‚   â”‚ äº‹ä»¶å›è°ƒ  â”‚  â”‚      â”‚    â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æ ¸å¿ƒèƒ½åŠ›**ï¼š
- **MCP å·¥å…·æ”¯æŒ**ï¼šä¸€é”®æ¥å…¥ä»»æ„ MCP Serverï¼Œå¤ç”¨ MCP å·¥å…·ç”Ÿæ€
- **HTTP API æ”¯æŒ**ï¼šé€šè¿‡ OpenAPI è§„èŒƒæ¥å…¥ REST APIï¼Œè°ƒç”¨ä¼ä¸šç°æœ‰æ¥å£
- **å†…ç½®å·¥å…·ç±»å‹**ï¼šæœç´¢ï¼ˆSearchï¼‰ã€å›å¤ï¼ˆReplyï¼‰ã€è§¦å‘å™¨ï¼ˆTriggerï¼‰ã€å­¦ä¹ ï¼ˆLearningï¼‰ç­‰
- **è‡ªå®šä¹‰å·¥å…· SPI**ï¼šå®ç° `CodeactTool` æ¥å£ï¼Œè½»æ¾æ‰©å±•æ–°å·¥å…·

---

### çŸ¥è¯†æ£€ç´¢æ¨¡å—ï¼ˆKnowledge Searchï¼‰

**ä½œç”¨**ï¼šå¤šæ•°æ®æºç»Ÿä¸€æ£€ç´¢å¼•æ“ï¼Œä¸º Agent çš„é—®ç­”å’Œå†³ç­–æä¾›çŸ¥è¯†æ”¯æ’‘ã€‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       å¤šæ•°æ®æºæ£€ç´¢æ¶æ„                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  ç”¨æˆ·é—®é¢˜: "å¦‚ä½•é…ç½®æ•°æ®åº“è¿æ¥æ± ï¼Ÿ"                                          â”‚
â”‚            â”‚                                                            â”‚
â”‚            â–¼                                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                      ç»Ÿä¸€æ£€ç´¢æ¥å£                                 â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚            â”‚                                                            â”‚
â”‚            â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚            â–¼                â–¼                â–¼                â–¼         â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚   â”‚    çŸ¥è¯†åº“     â”‚  â”‚    é¡¹ç›®       â”‚  â”‚     Web      â”‚  â”‚  è‡ªå®šä¹‰  â”‚    â”‚
â”‚   â”‚   Provider   â”‚  â”‚   Provider   â”‚  â”‚   Provider   â”‚  â”‚Provider â”‚    â”‚
â”‚   â”‚   (ä¸»è¦)      â”‚  â”‚   (å¯é€‰)     â”‚  â”‚   (å¯é€‰)      â”‚  â”‚  (SPI)  â”‚    â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜    â”‚
â”‚          â”‚                 â”‚                 â”‚              â”‚          â”‚
â”‚          â–¼                 â–¼                 â–¼              â–¼          â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚   â”‚ FAQ / æ–‡æ¡£    â”‚  â”‚ æºä»£ç        â”‚  â”‚ ç½‘ç»œæ–‡ç«        â”‚  â”‚  ...   â”‚      â”‚
â”‚   â”‚ å†å²é—®ç­”      â”‚  â”‚ é…ç½®æ–‡ä»¶      â”‚  â”‚ æŠ€æœ¯è®ºå›       â”‚  â”‚        â”‚      â”‚
â”‚   â”‚ å›¢é˜Ÿç¬”è®°      â”‚  â”‚ æ—¥å¿—         â”‚  â”‚               â”‚  â”‚        â”‚      â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚          â”‚                 â”‚                 â”‚              â”‚          â”‚
â”‚          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                            â”‚                                           â”‚
â”‚                            â–¼                                           â”‚
â”‚               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                               â”‚
â”‚               â”‚ èšåˆæ’åº                â”‚                               â”‚
â”‚               â”‚ â†’ æ³¨å…¥ Prompt          â”‚                                â”‚
â”‚               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                               â”‚
â”‚                                                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æ ¸å¿ƒèƒ½åŠ›**ï¼š
- **ç»Ÿä¸€æ£€ç´¢æ¥å£**ï¼š`SearchProvider` SPIï¼Œæ”¯æŒå¯æ’æ‹”æ•°æ®æº
- **æ¼”ç¤º Provider**ï¼šå†…ç½®çŸ¥è¯†åº“ã€é¡¹ç›®ã€Web çš„ Mock å®ç°ï¼ˆä»…ä¾›æ¼”ç¤ºå’Œæµ‹è¯•ï¼‰
- **è‡ªå®šä¹‰æ‰©å±•**ï¼šé€šè¿‡å®ç° `SearchProvider` æ¥å£ï¼Œæ¥å…¥ä»»æ„æ•°æ®æºï¼ˆæ•°æ®åº“ã€å‘é‡åº“ã€APIï¼‰
- **ç»“æœèšåˆ**ï¼šæ”¯æŒå¯é…ç½®çš„æ’åºç­–ç•¥
- **ä¸šåŠ¡ä»·å€¼**ï¼šæ¥å…¥ä¼ä¸šçŸ¥è¯†åº“æä¾›å‡†ç¡®ç­”æ¡ˆã€æ”¯æŒç­”æ¡ˆæº¯æºã€é™ä½äººå·¥å®¢æœå‹åŠ›

**é…ç½®ç¤ºä¾‹**ï¼š

```yaml
spring:
  ai:
    alibaba:
      codeact:
        extension:
          search:
            enabled: true
            knowledge-search-enabled: true   # çŸ¥è¯†åº“ï¼ˆé»˜è®¤ Mock å®ç°ï¼‰
            project-search-enabled: false    # é¡¹ç›®ä»£ç ï¼ˆé»˜è®¤ Mock å®ç°ï¼‰
            web-search-enabled: false        # Web æœç´¢ï¼ˆé»˜è®¤ Mock å®ç°ï¼‰
            default-top-k: 5
            search-timeout-ms: 5000
```

> ğŸ’¡ ä»¥ä¸Šæœç´¢åŠŸèƒ½é»˜è®¤æä¾› Mock å®ç°ä¾›æ¼”ç¤ºæµ‹è¯•ã€‚ç”Ÿäº§ç¯å¢ƒéœ€å®ç° `SearchProvider` SPI æ¥å…¥å®é™…æ•°æ®æºã€‚

---

## ğŸ“š å‚è€ƒæ–‡æ¡£

- [å®Œæ•´é…ç½®å‚è€ƒ](assistant-agent-start/src/main/resources/application-reference.yml)
- [Spring AI Alibaba æ–‡æ¡£](https://github.com/alibaba/spring-ai-alibaba)

## ğŸ¤ è´¡çŒ®

æ¬¢è¿è´¡çŒ®ï¼è¯·å‚é˜… [CONTRIBUTING.md](CONTRIBUTING.md) äº†è§£æŒ‡å—ã€‚

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ Apache License 2.0 è®¸å¯è¯ - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶ã€‚

## ğŸ™ è‡´è°¢

- [Spring AI](https://github.com/spring-projects/spring-ai)
- [Spring AI Alibaba](https://github.com/alibaba/spring-ai-alibaba)
- [GraalVM](https://www.graalvm.org/)
